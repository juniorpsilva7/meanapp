<!-- partials/loja.html -->
<h1 class="text-center">Loja</h1>
<p ng-show="mensagem.texto">
    {{mensagem.texto}}
</p>
<form ng-submit="salva()" name="loja_form">
    <input 
        type="file" 
        ngf-select 
        ng-model="loja.foto" 
        name="foto" 
        ngf-pattern="'image/*'"
        accept="image/*" 
        ngf-max-size="20MB" 
    />
    Image thumbnail: <img style="width:100px;" ng-show="!!loja.foto" ngf-thumbnail="loja.foto || '/thumb.jpg'"/>
    <i ng-show="foto.$error.required">*required</i><br>
    <i ng-show="foto.$error.maxSize">File too large 
    {{foto.size / 1000000|number:1}}MB: max 20M</i>
    <p>{{progress}}</p>

    <div class="form-group">
        <label for="nome">Nome da Loja</label>
        <input type="text" class="form-control" id="nome" name="nome" required ng-model="loja.nome">
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <div class="input-group">
            <span class="input-group-addon">@</span>
            <input type="email" class="form-control" id="email" placeholder="email@exemplo.com" name="email" ng-model="loja.email" required>
        </div>
    </div>
    <!-- <div class="form-group">
        <label for="afiliada">Afiliada</label>
        <select id="afiliada" class="form-control" 
        ng-model="loja.afiliada" 
        ng-options="loja._id as loja.nome for loja in lojas"></select>
    </div> -->
    <div class="form-group">
        <input ng-disabled="true" ng-hide="false" type="text" id="usuario" name="usuario" class="form-control" ng-model="loja.usuario">
    </div>
    <div>
        <button type="submit" class="btn btn-primary">Salvar</button>
        <a href="#/lojas" class="btn btn-default">Voltar</a>
        <!-- <button ng-click="remove(loja)" class="btn btn-warning">Remover</button> -->
    </div>
</form>